# Castle of Wizard public
## 게임 소개
* 마법사(플레이어)가 자신의 세계에서 도시로 잘못 이동하여 플레이어는 원래의 세계로 돌아가는 스토리이다. 플레이어를 공격하는 적들을 처리하고 원래세계로 돌아가는 VR게임입니다. 이 게임은 4학년 졸업 작품입니다. 
* VR 기기의 양손 컨트롤러를 이용하여 마법의 패턴을 그려 마법을 생성할 수 있습니다.
* 마법은 기본마법 1개와 공격마법3개 방어마법 2개 총 6가지가 존재합니다.
* 처음 스테이지는 마법을 연습하고 게임의 조작법을 알려주는 튜토리얼(성) 스테이지가 있으며 적이 나타나는 도시 스테이지로 구성되어 있습니다.
* 도시 스테이지에서 빛기둥이 위치한 곳에 도착하면 게임이 클리어됩니다.
* 이 저장소는 3d모델링과 이펙트의 라이센스 문제로 스크립트만을 별도로 추출한 프로젝트입니다.

## 조작법
* 마법 패턴 그리기 및 마법 사용 : 오른쪽 컨트롤러 트리거
* 플레이어 이동: 오른쪽 컨트롤러 터치패드
* 기본 공격: 왼쪽 컨트롤러 트리거
* 텔레포트: 왼쪽 컨트롤러 터치패드
* 도움말 보기 : 양쪽 컨트롤러 메뉴 버튼

## 개발 언어 및 환경
- OS : Windows 10 64bit 
- TOOLS : Unity 2018.1.6.f, Visual studio 2017
- Library : STEAM VR 1.3, Airsig
- Language : C#

## 클래스 설명
#### ViveInputManager
STEAM VR 플러그인을 이용해서 컨트롤러의 입력을 가져옵니다.

각 입력을 통하여 여러가지 기능을 수행합니다.

왼쪽 컨트롤러 트리거를 통해서 기본 마법을 사용할 수 있습니다. 
트리거를 유지하는 동안에는 기본 마법이 컨트롤러에 붙어 있으며 트리거를 때면 마법이 떨어집니다.

왼쪽 컨트롤러 패드를 통해 원하는 위치로 텔레포트를 할 수 있습니다.

오른쪽 컨트롤러 트리거는 마법의 패턴을 그릴수 있습니다. 패턴이 일치하면 다음 트리거 입력을 통해 마법을 사용할 수 있습니다.

오른쪽 컨트롤러 패드를 통해 플레이어가 이동할 수 있습니다.

양쪽 컨트롤러 메뉴 버튼을 누르면 컨트롤러 입력에 관한 도움말을 볼 수 있습니다.

#### EnemyCharacter & EnemyCharacterManager
도시 스테이지에 있는 적을 관리하는 스크립트입니다.

모든 적은 맵에 랜덤한 위치에 스폰이 되며 도시를 순회하며 돌아다닙니다.

모든 적은 7가지 상태를 가지며 기본적으로 걷는 상태 또는 idle 상태이며 일정 범위에 플레이어가 있을 경우 상황에 맞게 공격을 하거나 플레이어를 찾아
다니는 상태로 변환하게 됩니다.

적은 체력이 0이하가 되면 죽게되며, 각 적은 서로서로를 죽입니다.

#### MagicManager
마법을 생성, 사용에 관한 스크립트입니다.

마법은 패턴 정확도(matchScore)에 따라 일정 기준치보다 크게 되면 패턴이 일치하다고 판단하여 마법을 생성 할 수 있습니다.

마법은 현재 마법이 선택되었는지 확인을 한 후 선택된 마법이 없을 경우 오른쪽 트리거를 통해 마법을 사용 할 수 있습니다.

#### GameManager
스테이지 관리 및 게임의 시작과 종료를 관리합니다.

#### NonPlayerCharacter
NPC는 크게 2가지 상태가 있습니다.

단순히 맵에 특정 위치에 idle 상태로 존재하는 NPC와 적과 비슷하게 맵을 돌아다니는 NPC가 있습니다.

맵을 돌아다니는 NPC는 처음 생성되면 걷거나 뛰는 상태로 돌아다니는데 만약 플레이어가 근처에 접근을 하게되면 react 상태로 바뀌며 faast run상태가 되어 빠르게 이동하여 맵에서 사라지게 됩니다.

#### UIManager
게임의 UI를 관리하는 스크립트입니다.

각 스테이지에서 나타나는 튜토리얼 창이나 양쪽 컨트롤러 메뉴를 누르면 나타나는 도움말을 관리합니다.
